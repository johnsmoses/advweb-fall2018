<!DOCTYPE html>

<html>

<head>
    <title>Google Books Search</title>
    <script src="https://code.jquery.com/jquery-2.1.4.min.js"></script>
</head>

<body>
    <h1 id="title">Search the Google Books Database</h1>

    <div id="search">
        <form id="search_form">
            <input type="text" size="100" id="search_txt" placeholder="Search Term" />
            <input type="button" id="buttonsub" value="Search">
            <input type="button" id="buttonsub1" value="1">
            <input type="button" id="buttonsub2" value="2">
            <input type="button" id="buttonsub3" value="3">
            <input type="button" id="buttonsub4" value="4">
        </form>
    </div>

    <div id="results" style="display: flex; flex-wrap: wrap;"></div>

    <script>
        $(document).ready(function() {
            $("#buttonsub1").hide();
            $("#buttonsub2").hide();
            $("#buttonsub3").hide();
            $("#buttonsub4").hide();
            $('#buttonsub').click(function() {
                $("#buttonsub1").show();
                $("#buttonsub2").show();
                $("#buttonsub3").show();
                $("#buttonsub4").show();
                var term = $('#search_txt').val(); 
                var parameter = "?q=" + term + "&startIndex=1&maxResults=15";
                var service_point = "https://www.googleapis.com/books/v1/volumes/" + parameter;
                $.getJSON(service_point, function(json) {
                    console.log(json);
                    var total = json.totalItems;
                    $("#total").text(total);

                    var resultHTML = "";
                    for (i in json.items) {
                        var booktitle = json.items[i].volumeInfo.title;
                        var bookid = json.items[i].id;
                        var cover = "";
                        if (json.items[i].volumeInfo.imageLinks != null)
                            cover = json.items[i].volumeInfo.imageLinks.smallThumbnail;

                        resultHTML += "<div class='bookdiv'>";
                        resultHTML += "<img src='" + cover + "' style='float: left' />";
                        resultHTML += "<a href='bookinfo.html?id=" + bookid + "'>" + booktitle + "</a>";
                        resultHTML += "</div>";;
                    }
                    $("#results").html(resultHTML);
                    $(".bookdiv").css("width", "300px");
                });

            });

            $('#buttonsub1').click(function() {

                var term = $('#search_txt').val(); 
                var parameter = "?q=" + term + "&startIndex=16&maxResults=15";
                var service_point = "https://www.googleapis.com/books/v1/volumes/" + parameter;
                $.getJSON(service_point, function(json) {
                    console.log(json);
                    var total = json.totalItems;
                    $("#total").text(total);

                    var resultHTML = "";
                    for (i in json.items) {
                        var booktitle = json.items[i].volumeInfo.title;
                        var bookid = json.items[i].id;
                        var cover = "";
                        if (json.items[i].volumeInfo.imageLinks != null)
                            cover = json.items[i].volumeInfo.imageLinks.smallThumbnail;

                        resultHTML += "<div class='bookdiv'>";
                        resultHTML += "<img src='" + cover + "' style='float: left' />";
                        resultHTML += "<a href='bookinfo.html?id=" + bookid + "'>" + booktitle + "</a>";
                        resultHTML += "</div>";;
                    }
                    $("#results").html(resultHTML);
                    $(".bookdiv").css("width", "300px");
                });

            });

            $('#buttonsub2').click(function() {

                var term = $('#search_txt').val(); 
                var parameter = "?q=" + term + "&startIndex=31&maxResults=15";
                var service_point = "https://www.googleapis.com/books/v1/volumes/" + parameter;
                $.getJSON(service_point, function(json) {
                    console.log(json);
                    var total = json.totalItems;
                    $("#total").text(total);

                    var resultHTML = "";
                    for (i in json.items) {
                        var booktitle = json.items[i].volumeInfo.title;
                        var bookid = json.items[i].id;
                        var cover = "";
                        if (json.items[i].volumeInfo.imageLinks != null)
                            cover = json.items[i].volumeInfo.imageLinks.smallThumbnail;

                        resultHTML += "<div class='bookdiv'>";
                        resultHTML += "<img src='" + cover + "' style='float: left' />";
                        resultHTML += "<a href='bookinfo.html?id=" + bookid + "'>" + booktitle + "</a>";
                        resultHTML += "</div>";;
                    }
                    $("#results").html(resultHTML);
                    $(".bookdiv").css("width", "300px");
                });

            });

            $('#buttonsub3').click(function() {

                var term = $('#search_txt').val(); 
                var parameter = "?q=" + term + "&startIndex=46&maxResults=15";
                var service_point = "https://www.googleapis.com/books/v1/volumes/" + parameter;
                $.getJSON(service_point, function(json) {
                    console.log(json);
                    var total = json.totalItems;
                    $("#total").text(total);

                    var resultHTML = "";
                    for (i in json.items) {
                        var booktitle = json.items[i].volumeInfo.title;
                        var bookid = json.items[i].id;
                        var cover = "";
                        if (json.items[i].volumeInfo.imageLinks != null)
                            cover = json.items[i].volumeInfo.imageLinks.smallThumbnail;

                        resultHTML += "<div class='bookdiv'>";
                        resultHTML += "<img src='" + cover + "' style='float: left' />";
                        resultHTML += "<a href='bookinfo.html?id=" + bookid + "'>" + booktitle + "</a>";
                        resultHTML += "</div>";;
                    }
                    $("#results").html(resultHTML);
                    $(".bookdiv").css("width", "300px");
                });

            });

            $('#buttonsub4').click(function() {

                var term = $('#search_txt').val();
                var parameter = "?q=" + term + "&startIndex=30&maxResults=15";
                var service_point = "https://www.googleapis.com/books/v1/volumes/" + parameter;
                $.getJSON(service_point, function(json) {
                    console.log(json);
                    var total = json.totalItems;
                    $("#total").text(total);

                    var resultHTML = "";
                    for (i in json.items) {
                        var booktitle = json.items[i].volumeInfo.title;
                        var bookid = json.items[i].id;
                        var cover = "";
                        if (json.items[i].volumeInfo.imageLinks != null)
                            cover = json.items[i].volumeInfo.imageLinks.smallThumbnail;

                        resultHTML += "<div class='bookdiv'>";
                        resultHTML += "<img src='" + cover + "' style='float: left' />";
                        resultHTML += "<a href='gbbooks.html?id=" + bookid + "'>" + booktitle + "</a>";
                        resultHTML += "</div>";;
                    }
                    $("#results").html(resultHTML);
                    $(".bookdiv").css("width", "300px");
                });

            });



        });
    </script>

</body>

</html>
